graph TD
    START([ğŸš€ ìƒë‹´ ì‹œì‘<br/>Session Start]) --> GREETING[ğŸ‘‹ ì¸ì‚¬ ë…¸ë“œ<br/>Greeting Node<br/><br/>â€¢ ì´ˆê¸° ì¸ì‚¬ë§<br/>â€¢ ìƒë‹´ ì ‘ìˆ˜<br/>â€¢ ì§ˆë¬¸ ì¸ë±ìŠ¤ ì´ˆê¸°í™”]
    
    GREETING --> INITIAL_ASSESSMENT[ğŸ” ì´ˆê¸° í‰ê°€ ë…¸ë“œ<br/>Initial Assessment<br/><br/>â€¢ ìŠ¤ë§ˆíŠ¸ ê¸´ê¸‰ë„ íŒë‹¨<br/>â€¢ í‚¤ì›Œë“œ ë¶„ì„<br/>â€¢ ë§¥ë½ ê¸°ë°˜ ì ìˆ˜ ê³„ì‚°]
    
    INITIAL_ASSESSMENT --> COLLECT_INFO[ğŸ“ ì •ë³´ ìˆ˜ì§‘ ë…¸ë“œ<br/>Collect Info<br/><br/>â€¢ êµ¬ì¡°í™”ëœ ì§ˆë¬¸ ì§„í–‰<br/>â€¢ ë‹µë³€ íŒŒì‹± ë° ì €ì¥<br/>â€¢ í™•ì¸ ë©”ì‹œì§€ ìƒì„±]
    
    COLLECT_INFO --> COLLECT_DECISION{ì§ˆë¬¸ ì™„ë£Œ?<br/>All Questions Done?}
    
    COLLECT_DECISION -->|ë¯¸ì™„ë£Œ<br/>More Questions| COLLECT_INFO
    COLLECT_DECISION -->|ì™„ë£Œ & ê¸´ê¸‰ë„ â‰¥ 8<br/>Done & High Urgency| EMERGENCY_ACTION[ğŸš¨ ê¸´ê¸‰ ì¡°ì¹˜ ë…¸ë“œ<br/>Emergency Action<br/><br/>â€¢ ì¦‰ì‹œ ì¡°ì¹˜ì‚¬í•­ ì•ˆë‚´<br/>â€¢ 112/1332 ì‹ ê³  ì•ˆë‚´<br/>â€¢ ì§€ê¸‰ì •ì§€ ì‹ ì²­ ê°€ì´ë“œ]
    COLLECT_DECISION -->|ì™„ë£Œ & ì¼ë°˜<br/>Done & Normal| COMPLETE[âœ… ì™„ë£Œ ë…¸ë“œ<br/>Complete<br/><br/>â€¢ ìƒë‹´ ìš”ì•½ ìƒì„±<br/>â€¢ 3ì¼ ê·œì¹™ ì•ˆë‚´<br/>â€¢ ì„¸ì…˜ ì •ë¦¬]
    
    EMERGENCY_ACTION --> COMPLETE
    COMPLETE --> END([ğŸ ìƒë‹´ ì¢…ë£Œ<br/>Session End])
    
    %% ìŠ¤íƒ€ì¼ë§
    classDef startEnd fill:#e8f5e8,stroke:#2e7d32,stroke-width:3px,color:#000
    classDef process fill:#e3f2fd,stroke:#1565c0,stroke-width:2px,color:#000
    classDef decision fill:#fff3e0,stroke:#ef6c00,stroke-width:2px,color:#000
    classDef emergency fill:#ffebee,stroke:#c62828,stroke-width:3px,color:#000
    classDef complete fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px,color:#000
    
    class START,END startEnd
    class GREETING,INITIAL_ASSESSMENT,COLLECT_INFO process
    class COLLECT_DECISION decision
    class EMERGENCY_ACTION emergency
    class COMPLETE complete
    
    %% ì§ˆë¬¸ í”Œë¡œìš° ìƒì„¸
    subgraph QUESTIONS [" ğŸ“‹ êµ¬ì¡°í™”ëœ ì§ˆë¬¸ í”Œë¡œìš° "]
        Q1[â“ í”¼í•´ì ë³¸ì¸ì¸ê°€?<br/>Victim Confirmation]
        Q2[ğŸ’° ì†¡ê¸ˆ ê¸ˆì•¡ì€?<br/>Loss Amount]
        Q3[â° ì†¡ê¸ˆ ì‹œê°„ì€?<br/>Time Context]
        Q4[ğŸ¦ ì§€ê¸‰ì •ì§€ ì‹ ì²­í–ˆë‚˜?<br/>Payment Stop]
        Q5[ğŸš” ê²½ì°° ì‹ ê³ í–ˆë‚˜?<br/>Police Report]
        
        Q1 --> Q2 --> Q3 --> Q4 --> Q5
    end
    
    COLLECT_INFO -.->|ìˆœì°¨ ì§„í–‰| QUESTIONS
    
    %% ê¸´ê¸‰ë„ íŒì • ìƒì„¸
    subgraph URGENCY [" âš¡ ìŠ¤ë§ˆíŠ¸ ê¸´ê¸‰ë„ íŒì • "]
        U1[ğŸ” íŒ¨í„´ ë§¤ì¹­<br/>Pattern Matching]
        U2[ğŸ“Š í‚¤ì›Œë“œ ì ìˆ˜<br/>Keyword Scoring]
        U3[ğŸ§  ë§¥ë½ ë¶„ì„<br/>Context Analysis]
        U4[ğŸ“ˆ ìµœì¢… ì ìˆ˜<br/>Final Score 1-10]
        
        U1 --> U2 --> U3 --> U4
    end
    
    INITIAL_ASSESSMENT -.->|ì•Œê³ ë¦¬ì¦˜| URGENCY
    
    %% ì‘ê¸‰ ì¡°ì¹˜ ìƒì„¸
    subgraph EMERGENCY_DETAILS [" ğŸš¨ ê¸´ê¸‰ ì¡°ì¹˜ì‚¬í•­ "]
        E1[ğŸ“ 112/1332 ì‹ ê³ ]
        E2[ğŸ¦ ì§€ê¸‰ì •ì§€ ì‹ ì²­]
        E3[ğŸ“± íœ´ëŒ€í° ë³´ì•ˆ]
        E4[â° 3ì¼ ê·œì¹™ ì•ˆë‚´]
        
        E1 --> E2 --> E3 --> E4
    end
    
    EMERGENCY_ACTION -.->|ì•ˆë‚´ ë‚´ìš©| EMERGENCY_DETAILS
    
    style QUESTIONS fill:#f9f9f9,stroke:#666,stroke-dasharray: 5 5
    style URGENCY fill:#f0f4ff,stroke:#666,stroke-dasharray: 5 5
    style EMERGENCY_DETAILS fill:#fff0f0,stroke:#666,stroke-dasharray: 5 5